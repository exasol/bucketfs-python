
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Building the Documentation &#8212; Exasol BucketFS Utils Python  documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Dependencies" href="../dependencies.html" />
    <link rel="prev" title="Developer Guide" href="developer_guide.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="building-the-documentation">
<h1>Building the Documentation<a class="headerlink" href="#building-the-documentation" title="Permalink to this headline">¶</a></h1>
<p>We are using Sphinx for generating the documentation of this project,
because it is the default documentation tool for Python projects.
Sphinx supports API documentation generation for Python and with plugins also for other languages.
Furthermore, it supports reStructuredText with proper cross-document references.
We using the MyST-Parser to also integrate markdown files into the documentation.</p>
<div class="section" id="building-the-documentation-interactivily-during-coding">
<h2>Building the Documentation interactivily during coding<a class="headerlink" href="#building-the-documentation-interactivily-during-coding" title="Permalink to this headline">¶</a></h2>
<p>We defined several commands in the project.toml in poethepoet
which allow you to build and view the documentation during coding:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">poetry</span> <span class="n">run</span> <span class="n">poe</span> <span class="n">build</span><span class="o">-</span><span class="n">html</span><span class="o">-</span><span class="n">doc</span> <span class="c1"># Builds the documentation</span>
<span class="n">poetry</span> <span class="n">run</span> <span class="n">poe</span> <span class="nb">open</span><span class="o">-</span><span class="n">html</span><span class="o">-</span><span class="n">doc</span> <span class="c1"># Opens the currently build documentation in the browser</span>
<span class="n">poetry</span> <span class="n">run</span> <span class="n">poe</span> <span class="n">build</span><span class="o">-</span><span class="ow">and</span><span class="o">-</span><span class="nb">open</span><span class="o">-</span><span class="n">html</span><span class="o">-</span><span class="n">doc</span> <span class="c1"># Builds and opens the documentation</span>
</pre></div>
</div>
<p>All three build commands use the generated documentation located in /doc/_build/
which is excluded in gitignore. If you want to build the documentation for other formats than HTML,
you find a Makefile in /doc which allows you to run the sphinx build with other goals.</p>
</div>
<div class="section" id="building-the-documentation-in-the-ci">
<h2>Building the Documentation in the CI<a class="headerlink" href="#building-the-documentation-in-the-ci" title="Permalink to this headline">¶</a></h2>
<p>Building the documentation in the CI is a bit different to the steps you can use during coding,
because it also contains the preparations for publishing. At the moment, we publish
the documentation on Github Pages.</p>
<p>To publish it there, we need to build the HTML from the documentation source and commit it.
However, Github Pages expects a specific directory structure to find the HTML.
Our usual directory structure doesn’t fit these requirements, so we decided to create
a new Git root commit and initially set github-pages/main branch to this commit.
We then add new commits to this branch to update existing or add new versions of the documentation.</p>
<p>This has the additional benefit, that we don’t have automatic commits to the source branch.
For each branch or tag for which we build the documentation in the CI
we add a directory to the root directory of the github-pages/main branch.</p>
<p>With each merge into the main branch the CI updates the documentation for the main branch in github-pages/main.
For feature branches the CI checks this deployment process by creating a branch github-pages/&lt;feature-branch-name&gt;.
but it removes the branch directly after pushing it. However, you can run this also locally for testing purposes or
checking the branch with Github Pages in a fork of the main repostory.
The scripts which are responsible for the deployment are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">deploy</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">github</span><span class="o">-</span><span class="n">pages</span><span class="o">-</span><span class="n">current</span> <span class="c1"># creates or updates github-pages/&lt;current-branch-name&gt;</span>
<span class="n">deploy</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">github</span><span class="o">-</span><span class="n">pages</span><span class="o">-</span><span class="n">main</span><span class="o">.</span><span class="n">sh</span> <span class="c1"># only applicable for the main branch and creates or updates github-pages/main</span>
</pre></div>
</div>
<p>We also provide a few shortcuts defined in our project.toml for poethepoet:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">poetry</span> <span class="n">run</span> <span class="n">poe</span> <span class="n">commit</span><span class="o">-</span><span class="n">html</span><span class="o">-</span><span class="n">doc</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">github</span><span class="o">-</span><span class="n">pages</span><span class="o">-</span><span class="n">main</span> <span class="c1"># creates or updates github-pages/main locally</span>
<span class="n">poetry</span> <span class="n">run</span> <span class="n">poe</span> <span class="n">push</span><span class="o">-</span><span class="n">html</span><span class="o">-</span><span class="n">doc</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">github</span><span class="o">-</span><span class="n">pages</span><span class="o">-</span><span class="n">main</span>  <span class="c1"># creates or updates github-pages/main and pushes it to origin</span>
<span class="n">poetry</span> <span class="n">run</span> <span class="n">poe</span> <span class="n">commit</span><span class="o">-</span><span class="n">html</span><span class="o">-</span><span class="n">doc</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">github</span><span class="o">-</span><span class="n">pages</span><span class="o">-</span><span class="n">current</span>  <span class="c1"># creates or updates github-pages/&lt;current-branch-name&gt; locally</span>
<span class="n">poetry</span> <span class="n">run</span> <span class="n">poe</span> <span class="n">push</span><span class="o">-</span><span class="n">html</span><span class="o">-</span><span class="n">doc</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">github</span><span class="o">-</span><span class="n">pages</span><span class="o">-</span><span class="n">current</span>  <span class="c1"># creates or updates github-pages/&lt;current-branch-name&gt; and pushes it to origin</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Exasol BucketFS Utils Python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide/user_guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes/changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/exasol_bucketfs_utils_python.html">exasol_bucketfs_utils_python package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="developer_guide.html">Developer Guide</a><ul>
      <li>Previous: <a href="developer_guide.html" title="previous chapter">Developer Guide</a></li>
      <li>Next: <a href="../dependencies.html" title="next chapter">Dependencies</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Exasol.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/developer_guide/building_documentation.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>